#pragma once
#include "engine/engine.h"
#include "objects/object.h"

#include <cstdint>
#include <vector>

class game
{
public:
    virtual void    add_object(const object& obj) = 0;
    virtual void    remove_object(size_t index)   = 0;
    virtual object& get_object(size_t index)      = 0;

    virtual void render(camera) = 0;

    auto begin() { return _objects.begin(); }
    auto end() { return _objects.end(); }

protected:
    objects _objects;
    engine* _engine;
};

class my_game : public game
{
public:
    my_game(engine* e);

    void    add_object(const object& obj) override;
    void    remove_object(size_t index) override;
    object& get_object(size_t index) override;
    void    render(camera) override;
};
